SET SERVEROUTPUT ON;
DECLARE
	LIMITE NUMBER(4) := 9999;
	ERRORES_ORACLE EXCEPTION;
	AUX_MENSAJE VARCHAR2 (2555);
BEGIN
	FOR I IN 1 .. LIMITE LOOP
		IF TO_CHAR(SQLERRM(I * -1)) NOT LIKE '%not found;  product=RDBMS; facility=ORA%' THEN
			dbms_output.put_line(TO_CHAR(SQLERRM(I * -1)));
			AUX_MENSAJE := TO_CHAR(SQLERRM(I * -1));
			INSERT INTO ERRORES_ORACLE2 VALUES (AUX_MENSAJE);
		END IF;
	END LOOP;
	COMMIT;
END;
/